import java.util.* ; import java.io.* ; public class atcoder_AGC004_D { public static void main ( String [ ] args ) { Scanner sc = new Scanner ( System.in ) ; int N = sc.nextInt ( ) ; int K = sc.nextInt ( ) ; int [ ] A = new int [ N ] ; for ( int i = 0 ; i < N ; i ++ ) { A [ i ] = sc.nextInt ( ) ; } int [ ] dp = new int [ N + 1 ] ; for ( int i = 0 ; i < N ; i ++ ) { dp [ i + 1 ] = dp [ A [ i ] - 1 ] + 1 ; } int ans = 0 ; for ( int i = 0 ; i < N ; i ++ ) { if ( dp [ i + 1 ] >= K ) { ans ++ ; } } System.out.println ( ans ) ; } }