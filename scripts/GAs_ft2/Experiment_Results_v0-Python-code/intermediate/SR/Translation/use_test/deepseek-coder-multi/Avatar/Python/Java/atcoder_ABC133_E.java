```java
import java.util.* ; import java.io.* ; public class atcoder_AGC022_B { public static void main ( String [ ] args ) { Scanner sc = new Scanner ( System.in ) ; int N = sc.nextInt ( ) ; int K = sc.nextInt ( ) ; ArrayList < ArrayList < Integer >> graph = new ArrayList < > ( ) ; for ( int i = 0 ; i < N ; i ++ ) { graph.add ( new ArrayList < > ( ) ) ; } for ( int i = 0 ; i < N - 1 ; i ++ ) { int a = sc.nextInt ( ) ; int b = sc.nextInt ( ) ; graph.get ( a - 1 ).add ( b - 1 ) ; graph.get ( b - 1 ).add ( a - 1 ) ; } long mod = 1000000007 ; long [ ] dp = new long [ N ] ; dp [ 0 ] = 1 ; for ( int i = 0 ; i < N ; i ++ ) { for ( int j = 0 ; j < graph.get ( i ).size ( ) ; j ++ ) { if ( graph.get ( i ).get ( j ) != i ) { dp [ graph.get ( i ).get ( j ) ] += dp [ i ] ; dp [ graph.get ( i ).get ( j ) ] %= mod ; } } } long ans = 0 ; for ( int i = 0 ; i < N ; i ++ ) { if ( graph.get ( i ).size ( ) >= K - 1 ) { ans += dp [ i ] ; ans %= mod ; } } System.out.println ( ans ) ; } }

```
