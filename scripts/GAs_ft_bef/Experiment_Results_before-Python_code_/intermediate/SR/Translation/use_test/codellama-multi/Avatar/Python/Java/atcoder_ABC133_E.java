 ```java
import java.util.Scanner ; public class atcoder_ABC177_B { public static void main ( String [ ] args ) { Scanner sc = new Scanner ( System.in ) ; int n = sc.nextInt ( ) ; int m = sc.nextInt ( ) ; int [ ] [ ] graph = new int [ n ] [ m ] ; for ( int i = 0 ; i < n - 1 ; i ++ ) { int a = sc.nextInt ( ) ; int b = sc.nextInt ( ) ; graph [ a - 1 ] [ 0 ] ++ ; graph [ b - 1 ] [ 0 ] ++ ; } int mod = 1000000007 ; long ans = 1 ; for ( int i = 1 ; i <= n ; i ++ ) { if ( graph [ i - 1 ] [ 0 ] == 0 ) { ans = 0 ; break ; } } if ( ans != 0 ) { int k = 1 ; while ( true ) { long tmp = 1 ; for ( int i = 1 ; i <= n ; i ++ ) { if ( graph [ i - 1 ] [ 0 ] == 0 ) { tmp = 0 ; break ; } } if ( tmp == 0 ) { break ; } for ( int i = 1 ; i <= n ; i ++ ) { if ( graph [ i - 1 ] [ 0 ] != 0 ) { tmp *= graph [ i - 1 ] [ 0 ] ; tmp %= mod ; } } ans = ( ans * tmp ) % mod ; graph [ k - 1 ] [ 0 ] -- ; for ( int i = 1 ; i <= n ; i ++ ) { if ( graph [ i - 1 ] [ 0 ] != 0 ) { graph [ i - 1 ] [ 0 ] -- ; } } k ++ ; } } System.out.println ( ans ) ; } }

```
