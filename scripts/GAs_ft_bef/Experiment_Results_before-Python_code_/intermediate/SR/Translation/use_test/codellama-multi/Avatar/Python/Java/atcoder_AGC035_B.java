 ```java
import java.util.Scanner ; public class atcoder_ABC172_E { public static void main ( String [ ] args ) { Scanner sc = new Scanner ( System.in ) ; int N = sc.nextInt ( ) ; int M = sc.nextInt ( ) ; int [ ] deg = new int [ N ] ; int [ ] [ ] graph = new int [ N ] [ M ] ; int [ ] ans = new int [ N ] ; boolean [ ] used = new boolean [ N ] ; for ( int i = 0 ; i < M ; i ++ ) { int a = sc.nextInt ( ) - 1 ; int b = sc.nextInt ( ) - 1 ; graph [ a ] [ i ] = b ; graph [ b ] [ i ] = a ; deg [ a ] ++ ; deg [ b ] ++ ; } if ( M % 2 == 1 ) { System.out.println ( - 1 ) ; return ; } int q = 0 ; for ( int i = 0 ; i < N ; i ++ ) { if ( ! used [ i ] ) { q ++ ; used [ i ] = true ; ans [ q ] = i ; } } int idx = 0 ; while ( q > 0 ) { int now = ans [ idx ] ; idx ++ ; q -- ; for ( int i = 0 ; i < M ; i ++ ) { int next = graph [ now ] [ i ] ; if ( ! used [ next ] ) { q ++ ; used [ next ] = true ; ans [ q ] = next ; } } used [ now ] = false ; } for ( int i = 0 ; i < N ; i ++ ) { if ( i != 0 ) System.out.print ( " " ) ; System.out.print ( ans [ i ] + 1 ) ; } System.out.println ( ) ; } } }

```
