 ```java
import java.util.* ; public class codeforces_269_A { public static void main ( String [ ] args ) { Scanner sc = new Scanner ( System.in ) ; int n = sc.nextInt ( ) ; int m = sc.nextInt ( ) ; int a [ ] = new int [ m ] ; for ( int i = 0 ; i < m ; i ++ ) { a [ i ] = sc.nextInt ( ) ; } int p [ ] = new int [ m ] ; for ( int i = 0 ; i < m ; i ++ ) { p [ i ] = sc.nextInt ( ) ; } int q [ ] = new int [ n ] ; for ( int i = 0 ; i < m ; i ++ ) { for ( int j = 0 ; j < a [ i ] ; j ++ ) { q [ sc.nextInt ( ) - 1 ] ++ ; } } int v [ ] = new int [ n ] ; for ( int i = 0 ; i < n ; i ++ ) { v [ i ] = 1 ; } for ( int i = 0 ; i < m ; i ++ ) { for ( int j = 0 ; j < a [ i ] ; j ++ ) { if ( q [ sc.nextInt ( ) - 1 ] == 0 ) { v [ sc.nextInt ( ) - 1 ] = 0 ; } } } int ans = 0 ; for ( int i = 0 ; i <= n ; i ++ ) { for ( int j = 0 ; j < m ; j ++ ) { if ( q [ sc.nextInt ( ) - 1 ] == 0 ) { ans += ( int ) Math.pow ( 2 , v [ sc.nextInt ( ) - 1 ] ) ; } } } System.out.println ( ans ) ; } }

```
