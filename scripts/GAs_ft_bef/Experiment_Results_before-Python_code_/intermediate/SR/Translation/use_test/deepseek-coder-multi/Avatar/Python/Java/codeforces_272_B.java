```java
import java.util.ArrayList ; import java.util.HashMap ; import java.util.List ; import java.util.Map ; import java.util.Scanner ; public class codeforces_621_B { public static void main ( String [ ] args ) { Scanner in = new Scanner ( System.in ) ; int n = in.nextInt ( ) ; List < Integer > seq = new ArrayList < > ( ) ; for ( int i = 0 ; i < n ; i ++ ) seq.add ( in.nextInt ( ) ) ; System.out.println ( nPairsWithCommonFX ( seq ) ) ; } public static long nPairsWithCommonFX ( List < Integer > sequence ) { Map < Integer , List < Integer >> storage = new HashMap < > ( ) ; List < Integer > FXs = new ArrayList < > ( ) ; for ( int value : sequence ) { int y = f ( value ) ; if ( ! storage.containsKey ( y ) ) { storage.put ( y , new ArrayList < > ( ) ) ; FXs.add ( y ) ; } storage.get ( y ).add ( value ) ; } long result = 0 ; for ( int y : FXs ) { List < Integer > group = storage.get ( y ) ; result += ( long ) group.size ( ) * ( long ) group.size ( ) - ( long ) group.size ( ) ; } return result / 2 ; } public static int f ( int n ) { int y = 1 ; while ( n != 1 ) { if ( n % 2 == 1 ) y ++ ; n /= 2 ; } return y ; } }

```
