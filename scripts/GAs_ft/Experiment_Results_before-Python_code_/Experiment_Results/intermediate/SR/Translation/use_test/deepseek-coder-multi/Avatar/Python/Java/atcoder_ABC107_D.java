```java
import java.util.* ; import java.io.* ; public class atcoder_ABC141_D { public static void main ( String [ ] args ) { Scanner sc = new Scanner ( System.in ) ; int n = sc.nextInt ( ) ; int m = n * ( n + 1 ) / 4 ; int [ ] a = new int [ n ] ; for ( int i = 0 ; i < n ; i ++ ) { a [ i ] = sc.nextInt ( ) ; } Arrays.sort ( a ) ; int [ ] b = new int [ n ] ; for ( int i = 0 ; i < n ; i ++ ) { b [ i ] = a [ i ] ; } for ( int i = 0 ; i < n ; i ++ ) { a [ i ] = i + 1 ; } int [ ] c = new int [ n + 1 ] ; for ( int i = 0 ; i < n ; i ++ ) { c [ b [ i ] ] = a [ i ] ; } for ( int i = 0 ; i < n ; i ++ ) { b [ i ] = c [ b [ i ] ] ; } int [ ] d = new int [ n + 1 ] ; for ( int i = 0 ; i < n ; i ++ ) { d [ b [ i ] ] ++ ; } int [ ] e = new int [ n + 1 ] ; for ( int i = 1 ; i <= n ; i ++ ) { e [ i ] = e [ i - 1 ] + d [ i ] ; } int [ ] f = new int [ n + 1 ] ; for ( int i = 0 ; i < n ; i ++ ) { f [ b [ i ] ] ++ ; } int [ ] g = new int [ n + 1 ] ; for ( int i = 1 ; i <= n ; i ++ ) { g [ i ] = g [ i - 1 ] + f [ i ] ; } int l = 0 ; int r = n ; while ( r - l > 1 ) { int mid = ( l + r ) / 2 ; if ( g [ mid ] - g [ 0 ] >= m ) { r = mid ; } else { l = mid ; } } System.out.println ( a [ r - 1 ] ) ; } }

```
