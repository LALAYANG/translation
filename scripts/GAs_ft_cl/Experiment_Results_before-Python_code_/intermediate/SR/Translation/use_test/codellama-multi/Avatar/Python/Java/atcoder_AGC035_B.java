 ```java
import java.util.Scanner ; public class atcoder_ABC171_E { public static void main ( String [ ] args ) { Scanner sc = new Scanner ( System.in ) ; int n = sc.nextInt ( ) ; int m = sc.nextInt ( ) ; int [ ] deg = new int [ n ] ; int [ ] parity = new int [ n ] ; for ( int i = 0 ; i < m ; i ++ ) { int a = sc.nextInt ( ) ; int b = sc.nextInt ( ) ; deg [ a - 1 ] ++ ; deg [ b - 1 ] ++ ; } if ( m % 2 != 0 ) { System.out.println ( - 1 ) ; return ; } Queue < Integer > q = new LinkedList < > ( ) ; for ( int i = 0 ; i < n ; i ++ ) { q.add ( deg [ i ] ) ; } while ( ! q.isEmpty ( ) ) { int d = q.poll ( ) ; int u = d - 1 ; if ( parity [ u ] != 0 ) { for ( int v : edges [ u ] ) { edges [ v ].remove ( u ) ; if ( parity [ u ] == 1 ) { System.out.println ( u + 1 + " " + v + 1 ) ; parity [ u ] = 0 ; } else { System.out.println ( v + 1 + " " + u + 1 ) ; parity [ u ] = 1 ; } deg [ v ] -- ; q.add ( deg [ v ] ) ; } } } } } static class Edge { int to ; Edge ( int to ) { this.to = to ; } } static class Graph { int n ; Edge [ ] [ ] edges ; Graph ( int n ) { this.n = n ; edges = new Edge [ n ] [ n ] ; } void addEdge ( int from , int to ) { edges [ from ] [ to ] = new Edge ( to ) ; } } }

```
