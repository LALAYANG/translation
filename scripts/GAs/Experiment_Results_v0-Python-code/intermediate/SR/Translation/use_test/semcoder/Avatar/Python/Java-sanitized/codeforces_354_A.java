// Define the my_decorator function for decorating the calculate_cumulative_sum function
// Define the calculate_cumulative_sum function to calculate cumulative sum of weights
// Define the calculate_energy function to calculate energy based on cumulative sum
// Implement the main logic to find the optimal energy consumption

// Sample test case input: 5 100 1 1 10000 1 2 3 4 5
// Expected output: 312