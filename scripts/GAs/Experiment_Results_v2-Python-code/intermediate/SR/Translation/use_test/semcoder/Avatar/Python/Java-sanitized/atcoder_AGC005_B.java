// Translated code snippet to Java

// Define lambda functions for root and same

// Define unite function to merge two sets

// Read input data and initialize variables

// Calculate the result based on the provided logic

// Print the final result