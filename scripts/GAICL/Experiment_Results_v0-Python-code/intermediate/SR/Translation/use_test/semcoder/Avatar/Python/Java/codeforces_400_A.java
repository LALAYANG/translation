Thought process:
1. Understand the input format and constraints.
2. Implement the logic to parse the input and determine the valid dimensions.
3. Use the provided functions and libraries to solve the problem efficiently.

```java
import java.util.*;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int t = sc.nextInt();
        for (int i = 0; i < t; i++) {
            solve(sc);
        }
    }

    public static void solve(Scanner sc) {
        String input = sc.nextLine();
        // Implement the logic to parse the input and determine valid dimensions
        // This part is similar to the Python code, but in Java
    }
}
```

This solution provides a framework for solving the problem in Java. You need to implement the logic inside the `solve` method to parse the input and determine the valid dimensions based on the given conditions.
