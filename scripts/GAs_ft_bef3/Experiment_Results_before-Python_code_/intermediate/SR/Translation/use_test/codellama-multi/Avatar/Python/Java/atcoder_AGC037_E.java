 ```java
import java.util.Scanner ; public class atcoder_AGC024_B { public static void main ( String [ ] args ) { Scanner stdIn = new Scanner ( System.in ) ; int N = stdIn.nextInt ( ) ; int K = stdIn.nextInt ( ) ; String S = stdIn.next ( ) ; if ( K >= 15 ) { System.out.println ( min ( S ) * N ) ; return ; } int l = 1 ; for ( int i = 1 ; i < S.length ( ) ; i ++ ) { if ( S.charAt ( i ) == S.charAt ( i - 1 ) ) l ++ ; else l = 1 ; if ( l >= 2 ) break ; } if ( l >= 2 && 2 * l >= N ) { System.out.println ( S.charAt ( 0 ) * N ) ; return ; } S = S.substring ( 0 , l ) + S ; if ( k == 1 ) { System.out.println ( S ) ; return ; } int c = 0 ; for ( int i = 0 ; i < S.length ( ) ; i ++ ) { if ( S.charAt ( i ) == S.charAt ( 0 ) ) c ++ ; else break ; } if ( c * ( 1 << ( k - 1 ) ) >= N ) { System.out.println ( S.charAt ( 0 ) * N ) ; return ; } S = S.charAt ( 0 ) + S.substring ( 0 , c * ( 1 << ( k - 1 ) ) - 1 ) + S ; System.out.println ( S.substring ( 0 , N ) ) ; } public static String min ( String s ) { int min = s.charAt ( 0 ) ; for ( int i = 1 ; i < s.length ( ) ; i ++ ) if ( s.charAt ( i ) < min ) min = s.charAt ( i ) ; return "" + min ; } }

```
