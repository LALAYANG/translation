import java.util.Scanner ; public class codeforces_203_B { public static void main ( String [ ] args ) { Scanner sc = new Scanner ( System.in ) ; int N = sc.nextInt ( ) ; int M = sc.nextInt ( ) ; int [ ] [ ] count = new int [ N ] [ N ] ; for ( int i = 0 ; i < N ; i ++ ) { for ( int j = 0 ; j < N ; j ++ ) { count [ i ] [ j ] = 0 ; } } int ans = - 1 ; for ( int k = 0 ; k < M ; k ++ ) { int x = sc.nextInt ( ) ; int y = sc.nextInt ( ) ; x = x - 1 ; y = y - 1 ; boolean found = false ; for ( int i = x - 2 ; i <= x + 1 ; i ++ ) { for ( int j = y - 2 ; j <= y + 1 ; j ++ ) { if ( i >= 0 && i < N && j >= 0 && j < N ) { count [ i ] [ j ] ++ ; if ( count [ i ] [ j ] == 9 ) { found = true ; } } } } if ( found ) { ans = k + 1 ; break ; } } System.out.println ( ans ) ; } }