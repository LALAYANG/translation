 ```java
import java.util.* ; import java.io.* ; import java.math.* ; import java.util.stream.Collectors ; public class atcoder_ABC169_D { public static void main ( String [ ] args ) throws IOException { Scanner sc = new Scanner ( System.in ) ; int N = sc.nextInt ( ) ; int M = sc.nextInt ( ) ; int Q = sc.nextInt ( ) ; int [ ] a = new int [ Q ] ; int [ ] b = new int [ Q ] ; int [ ] c = new int [ Q ] ; int [ ] d = new int [ Q ] ; for ( int i = 0 ; i < Q ; i ++ ) { a [ i ] = sc.nextInt ( ) ; b [ i ] = sc.nextInt ( ) ; c [ i ] = sc.nextInt ( ) ; d [ i ] = sc.nextInt ( ) ; } long [ ] dp = new long [ N + 1 ] ; Arrays.fill ( dp , - 1 ) ; dp [ 0 ] = 0 ; for ( int i = 1 ; i <= N ; i ++ ) { for ( int j = 1 ; j <= M ; j ++ ) { if ( dp [ i - 1 ] != - 1 && dp [ i - 1 ] + d [ j - 1 ] >= dp [ i ] ) { dp [ i ] = dp [ i - 1 ] + d [ j - 1 ] ; } } } System.out.println ( dp [ N ] ) ; } }

```
